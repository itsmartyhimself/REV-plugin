@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ─── Color tokens ─── */

    /* Dark / surface (use for BGs, borders, shadows) */
    --color-gray-100: #0d0e0f;
    /* Primary BG, darkest possible, main shadow color */
    --color-bg-primary: #0d0e0f;
    --color-shadow-base: #0d0e0f;

    --color-gray-200: #171819;
    /* Secondary BG */
    --color-bg-secondary: #171819;

    --color-gray-300: #1f2021;
    /* Tertiary BG; border when surface is primary or secondary */
    --color-bg-tertiary: #1f2021;
    --color-border-on-dark: #1f2021;

    --color-gray-400: #2a2b2d;
    /* Gray accent 1; border for secondary/tertiary BG */
    --color-accent-gray-1: #2a2b2d;
    --color-border-secondary: #2a2b2d;

    --color-gray-500: #363739;
    /* Gray accent 2 */
    --color-accent-gray-2: #363739;

    --color-gray-600: #4a4b4d;
    /* Lightest dark in the dark palette */
    --color-dark-lightest: #4a4b4d;

    /* Light heather / gray (text & surfaces on dark) */
    --color-heather-100: #7f8490;
    /* Darkest light heather */
    --color-heather-200: #a5a9b1;
    --color-heather-300: #c1c3c8;
    /* Tertiary copy over dark when darkest surface is 363739 */
    --color-copy-tertiary: #c1c3c8;
    --color-heather-400: #d6d8db;
    /* Second copy over dark; or second BG (light mode) */
    --color-copy-secondary: #d6d8db;
    --color-bg-second: #d6d8db;

    --color-heather-500: #ecedee;
    /* Primary copy over dark; primary BG in light UI */
    --color-copy-primary: #ecedee;
    --color-bg-light: #ecedee;

    --color-white: #ffffff;
    /* Lightest possible */
    --color-bg-lightest: #ffffff;

    /* Primary accent blues (WCAG-aware: use on suitable BG for contrast) */
    --color-blue-100: #3399ff;
    --color-blue-200: #006efa;
    --color-blue-300: #004afc;
    --color-blue-400: #0e2add;
    --color-blue-500: #0019bd;
    --color-blue-600: #000a91;
    /* Semantic: default accent for buttons/fills/gradients */
    --color-accent-primary: var(--color-blue-200);

    /* Destructive (e.g. delete/danger); WCAG contrast on dark BG */
    --color-destructive: #dc2626;
    --color-destructive-foreground: #ffffff;

    /* ─── Spacing (8-ish rhythm) ─── */
    --space-0: 2px;
    --space-1: 4px;
    --space-1-5: 6px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 24px;
    --space-6: 32px;
    --space-7: 40px;
    --space-8: 48px;
    --space-9: 64px;

    /* ─── Radius ─── */
    --radius-0: 2px;
    --radius-1: 4px;
    --radius-2: 8px;
    --radius-3: 12px;
    --radius-4: 16px;
    --radius-5: 20px;
    --radius-6: 24px;
    --radius-full: 9999px;

    /* ─── Font family ─── */
    --font-mono: var(--font-geist-mono), ui-monospace, monospace;

    /* ─── Type tokens (size / weight / line-height / letter-spacing) ─── */
    /* 8px, medium, 150% lh, +1% spacing */
    --type-1-size: 8px;
    --type-1-weight: 500;
    --type-1-lh: 1.5;
    --type-1-ls: 0.01em;

    /* 10px, medium, 150%, +1% */
    --type-2-size: 10px;
    --type-2-weight: 500;
    --type-2-lh: 1.5;
    --type-2-ls: 0.01em;

    /* 12px, regular, 150%, normal */
    --type-3-size: 12px;
    --type-3-weight: 400;
    --type-3-lh: 1.5;
    --type-3-ls: 0;

    /* 14px, regular, 150%, normal */
    --type-4-size: 14px;
    --type-4-weight: 400;
    --type-4-lh: 1.5;
    --type-4-ls: 0;

    /* 16px, regular, 150%, normal */
    --type-5-size: 16px;
    --type-5-weight: 400;
    --type-5-lh: 1.5;
    --type-5-ls: 0;

    /* 18px, regular, 125%, normal */
    --type-6-size: 18px;
    --type-6-weight: 400;
    --type-6-lh: 1.25;
    --type-6-ls: 0;

    /* 20px, regular, 125%, normal */
    --type-7-size: 20px;
    --type-7-weight: 400;
    --type-7-lh: 1.25;
    --type-7-ls: 0;

    /* 24px, regular, 125%, normal */
    --type-8-size: 24px;
    --type-8-weight: 400;
    --type-8-lh: 1.25;
    --type-8-ls: 0;

    /* 28px, regular, 115%, normal */
    --type-9-size: 28px;
    --type-9-weight: 400;
    --type-9-lh: 1.15;
    --type-9-ls: 0;

    /* 32px, regular, 115%, -1% */
    --type-10-size: 32px;
    --type-10-weight: 400;
    --type-10-lh: 1.15;
    --type-10-ls: -0.01em;

    /* 36px, regular, 115%, -1% */
    --type-11-size: 36px;
    --type-11-weight: 400;
    --type-11-lh: 1.15;
    --type-11-ls: -0.01em;

    /* 40px, regular, 100%, -1.5% */
    --type-12-size: 40px;
    --type-12-weight: 400;
    --type-12-lh: 1;
    --type-12-ls: -0.015em;

    /* 48px, regular, 100%, -1.5% */
    --type-13-size: 48px;
    --type-13-weight: 400;
    --type-13-lh: 1;
    --type-13-ls: -0.015em;
  }

  /* Type utility classes (use with .text-trim for cap-height trim) */
  .type-1 {
    font-size: var(--type-1-size);
    font-weight: var(--type-1-weight);
    line-height: var(--type-1-lh);
    letter-spacing: var(--type-1-ls);
  }
  .type-2 {
    font-size: var(--type-2-size);
    font-weight: var(--type-2-weight);
    line-height: var(--type-2-lh);
    letter-spacing: var(--type-2-ls);
  }
  .type-3 {
    font-size: var(--type-3-size);
    font-weight: var(--type-3-weight);
    line-height: var(--type-3-lh);
    letter-spacing: var(--type-3-ls);
  }
  .type-4 {
    font-size: var(--type-4-size);
    font-weight: var(--type-4-weight);
    line-height: var(--type-4-lh);
    letter-spacing: var(--type-4-ls);
  }
  .type-5 {
    font-size: var(--type-5-size);
    font-weight: var(--type-5-weight);
    line-height: var(--type-5-lh);
    letter-spacing: var(--type-5-ls);
  }
  .type-6 {
    font-size: var(--type-6-size);
    font-weight: var(--type-6-weight);
    line-height: var(--type-6-lh);
    letter-spacing: var(--type-6-ls);
  }
  .type-7 {
    font-size: var(--type-7-size);
    font-weight: var(--type-7-weight);
    line-height: var(--type-7-lh);
    letter-spacing: var(--type-7-ls);
  }
  .type-8 {
    font-size: var(--type-8-size);
    font-weight: var(--type-8-weight);
    line-height: var(--type-8-lh);
    letter-spacing: var(--type-8-ls);
  }
  .type-9 {
    font-size: var(--type-9-size);
    font-weight: var(--type-9-weight);
    line-height: var(--type-9-lh);
    letter-spacing: var(--type-9-ls);
  }
  .type-10 {
    font-size: var(--type-10-size);
    font-weight: var(--type-10-weight);
    line-height: var(--type-10-lh);
    letter-spacing: var(--type-10-ls);
  }
  .type-11 {
    font-size: var(--type-11-size);
    font-weight: var(--type-11-weight);
    line-height: var(--type-11-lh);
    letter-spacing: var(--type-11-ls);
  }
  .type-12 {
    font-size: var(--type-12-size);
    font-weight: var(--type-12-weight);
    line-height: var(--type-12-lh);
    letter-spacing: var(--type-12-ls);
  }
  .type-13 {
    font-size: var(--type-13-size);
    font-weight: var(--type-13-weight);
    line-height: var(--type-13-lh);
    letter-spacing: var(--type-13-ls);
  }

  /* Cap-height trim (canonical). Trims top whitespace while preserving descenders. Does not set line-height; use with .type-* so multiline leading is preserved. */
  @supports (text-box-trim: trim-start) and (text-box-edge: cap ex) {
    .text-trim {
      text-box-trim: trim-start;
      text-box-edge: cap ex;
    }
  }

  /* Nested radius: inner = outer - padding (clamped). Set --radius-outer and --space-pad on parent. */
  .nested-radius-inner {
    border-radius: max(0px, calc(var(--radius-outer, var(--radius-2)) - var(--space-pad, var(--space-1))));
  }
}

/* Example: card with nested inner (documented for reuse) */
.card {
  --radius-outer: var(--radius-6);
  --space-pad: var(--space-2);
  border-radius: var(--radius-outer);
  padding: var(--space-pad);
}

.card__inner {
  border-radius: max(0px, calc(var(--radius-outer) - var(--space-pad)));
}

/* Preset list custom scrollbar for plugin aesthetic */
.preset-list::-webkit-scrollbar {
  width: 4px;
}
.preset-list::-webkit-scrollbar-track {
  background: var(--color-accent-gray-1);
  border-radius: var(--radius-full);
}
.preset-list::-webkit-scrollbar-thumb {
  background: var(--color-heather-100);
  border-radius: var(--radius-full);
}
